<?php
$aemail = isset($_POST['aemail']) ? $_POST['aemail'] : '';
$email = isset($_POST['email']) ? $_POST['email'] : '';
$firstName = isset($_POST['firstName']) ? $_POST['firstName'] : '';
$lastName = isset($_POST['lastName']) ? $_POST['lastName'] : '';
$nick = isset($_POST['nick']) ? $_POST['nick'] : '';
?>
<article id="authForm" class="container-legacy">
	<h3>Авторизация</h3>
	<div class="alert alert-danger validateError" role="alert"><?php if (isset($_POST['signIn'])) lpm_print_errors();?></div>

	<form method="post">
		<div class="mb-3">
		  <label for="emailInput" class="form-label">Email</label>
		  <input type="email" class="form-control" id="emailInput" name="aemail" required="required" value="<?=$aemail?>">
		</div>
		<div class="mb-3">
		  <label for="passwordInput" class="form-label">Пароль</label>
		  <input type="password" class="form-control" id="passwordInput" name="apass" required="required">
		</div>
		<div class="mb-3 text-end">
			<button type="submit" name="signIn" class="btn btn-primary">Вход</button>
		</div>
		<div class="mb-3 text-center">
			<a href="javascript:showRegistration();">Регистрация</a>
			&nbsp&nbsp&nbsp
			<a href="pass-recovery">Забыли пароль?</a>
		</div>
	</form>
</article>
<article id="registrationForm" class="container-legacy">
	<h3>Регистрация</h3>
	<div class="alert alert-danger validateError" role="alert"><?php if (isset($_POST['signUp'])) lpm_print_errors();?></div>

	<form onsubmit="return validateReg();" action="#reg" method="post">
		<div class="mb-3">
		  <label for="emailInput" class="form-label">Email</label>
		  <input type="email" class="form-control" id="emailInput" name="email" required="required" value="<?=$email?>">
		</div>
		<div class="mb-3">
		  <label for="passwordInput" class="form-label">Пароль</label>
		  <input type="password" class="form-control" id="passwordInput" name="pass" required="required" maxlength="24">
		</div>
		<div class="mb-3">
		  <label for="password2Input" class="form-label">Подтверждение пароля</label>
		  <input type="password" class="form-control" id="password2Input" name="repass" required="required" maxlength="24">
		</div>
		<div class="mb-3">
		  <label for="firstNameInput" class="form-label">Имя</label>
		  <input type="text" class="form-control" id="firstNameInput" name="firstName" required="required" maxlength="128" value="<?=$firstName;?>">
		</div>
		<div class="mb-3">
		  <label for="lastNameInput" class="form-label">Фамилия</label>
		  <input type="text" class="form-control" id="lastNameInput" name="lastName" required="required" maxlength="128" value="<?=$lastName;?>">
		</div>
		<div class="mb-3">
		  <label for="nickInput" class="form-label">Ник</label>
		  <input type="text" class="form-control" id="nickInput" name="nick" maxlength="64" aria-describedby="nickInputHelp" value="<?=$nick;?>">
		  <div id="nickInputHelp" class="form-text">Без пробелов, не менее 3-х символов. Не должно совпадать с именем.</div>		  
		</div>
		<div class="mb-3 text-end">
			<button name="signUp" type="submit" class="btn btn-primary">Регистрация</button>
		</div>
		<div class="mb-3 text-start">
			<a href="javascript:showAuth();">Назад</a>
		</div>
	</form>
</article>